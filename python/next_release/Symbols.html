<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>HFST - Helsinki Finite-State Transducer Technology - Python API: Symbols in HFST</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HFST - Helsinki Finite-State Transducer Technology - Python API
   &#160;<span id="projectnumber">version 3.12.3 (under development)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Symbols in HFST </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A transducer maps strings into strings.Strings are tokenized (i.e.</p>
<p>divided) into symbols. Each transition in a transducer has an input and output symbol. If the input symbol of a transition matches a symbol of an input string, it is consumed and an output symbol equal to the output symbol of the transition is produced.</p>
<p>There are some special symbols: the epsilon, unknown and identity. Epsilon on input side consumes no symbol, epsilon on output side produces no symbol. The unknown on input side matches any symbol, the unknown on output side produces any symbol. If unknown is on both sides of a transition, it matches any symbol and produces any symbol other than the one that was matched on the input side. The identity matches any symbol and produces the same symbol. It must always occur on both sides of a transition. There is also a class of special symbols, called flag diacritics. They are of form </p><pre class="fragment"> @[PNDRCU][.][A-Z]+([.][A-Z]+)?@</pre><p>The internal string representation for epsilon is "@_EPSILON_SYMBOL_@" (<a class="el" href="namespacehfst.html#a9c72aae3ca2a5e4c25a95cefe40704a2" title="The string for epsilon symbol. ">hfst.EPSILON</a>), for unknown "@_UNKNOWN_SYMBOL_@" (<a class="el" href="namespacehfst.html#a51bd2ecc765c9934d3f6396d30ace19f" title="The string for unknown symbol. ">hfst.UNKNOWN</a>) and for identity "@_IDENTITY_SYMBOL_@" (<a class="el" href="namespacehfst.html#a3b257e90982f934e0237c0bf2671a54b" title="The string for identity symbol. ">hfst.IDENTITY</a>). These strings are used when referring to those symbols in individual transitions, e.g.</p>
<pre class="fragment"> fsm = hfst.HfstBasicTransducer()
 fsm.add_state(1)
 fsm.add_state(2)
 fsm.set_final_weight(2, 0.5)
 fsm.add_transition(0, 1, hfst.EPSILON, hfst.UNKNOWN)
 fsm.add_transition(1, 2, hfst.IDENTITY, hfst.IDENTITY)</pre><p>or reading and printing transitions in AT&amp;&amp; format:</p>
<pre class="fragment"> 0 1 @_EPSILON_SYMBOL@ @_UNKNOWN_SYMBOL_@ 0.0
 1 2 @_IDENTITY_SYMBOL@ @_IDENTITY_SYMBOL_@ 0.0
 2 0.5</pre><p>There is also a shorter string for epsilon in AT&amp;T format, "@0@".</p>
<p>The syntax of regular expressions follows the Xerox formalism, where the following symbols are used instead: "0" for epsilon, and "?" for unknown and identity. On either side of a transition, "?" means the unknown. As a single symbol, "?" means identity-to-identity transition. On both sides of a transition "?" means the combination of unknown-to-unknown AND identity-to-identity transitions. If unknown-to-unknown transition is needed, it can be given as the subtraction [?:? - ?]. Some examples:</p>
<pre class="fragment"> hfst.regex('0:foo')       # epsilon to "foo"
 hfst.regex('0:foo')       # "foo" to epsilon
 hfst.regex('?:foo')       # any symbol to "foo"
 hfst.regex('?:foo')       # "foo" to any symbol
 hfst.regex('?:?')         # any symbol to any symbol
 hfst.regex('?')           # any symbol to the same symbol
 hfst.regex('?:? - ?')     # any symbol to any other symbol</pre><p>Note that unknowns and identities are expanded with the symbols that the expression becomes aware of during its compilation:</p>
<pre class="fragment"> hfst.regex('?')              # equal to [?]
 hfst.regex('? foo')          # equal to [[?|foo] foo]
 hfst.regex('? foo bar:?')    # equal to [[?|foo|bar] foo [bar:?|bar:bar|bar:foo]]</pre><p>In lookup, the epsilon is printed as empty string and unknowns and identities as those symbols that they are matched with: </p><pre class="fragment"> &gt;&gt;&gt; tr = hfst.regex('foo:0 bar:? ?')
 &gt;&gt;&gt; print(tr.lookup('foobara'))
 (('bara', 0.0), ('fooa', 0.0))</pre><p>In extract_paths, epsilon, unknown and identity are printed as such: </p><pre class="fragment"> &gt;&gt;&gt; tr = hfst.regex('foo:0 bar:? ?')
 &gt;&gt;&gt; print(tr.extract_paths())
 {'foobar@_IDENTITY_SYMBOL_@': [('@_EPSILON_SYMBOL_@@_UNKNOWN_SYMBOL_@@_IDENTITY_SYMBOL_@', 0.0), ('@_EPSILON_SYMBOL_@bar@_IDENTITY_SYMBOL_@', 0.0), ('@_EPSILON_SYMBOL_@foo@_IDENTITY_SYMBOL_@', 0.0)],
  'foobarfoo': [('@_EPSILON_SYMBOL_@@_UNKNOWN_SYMBOL_@foo', 0.0), ('@_EPSILON_SYMBOL_@barfoo', 0.0), ('@_EPSILON_SYMBOL_@foofoo', 0.0)],
  'foobarbar': [('@_EPSILON_SYMBOL_@@_UNKNOWN_SYMBOL_@bar', 0.0), ('@_EPSILON_SYMBOL_@barbar', 0.0), ('@_EPSILON_SYMBOL_@foobar', 0.0)]}</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
